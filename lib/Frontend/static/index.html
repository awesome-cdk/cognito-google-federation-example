<html lang="en">
<head>
    <!-- Load React. -->
    <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="./LoginComponent.js"></script>
    <script src="./AuthCallbackComponent.js"></script>

    <title>Example Cognito + Google federated identity integration, using AWS CDK</title>
</head>
<body>
<div id="root"></div>

<script>
    const urlSearchParams = new URLSearchParams(window.location.search);
    const params = Object.fromEntries(urlSearchParams.entries());

    if (params && params.code) {
        ReactDOM.render(React.createElement(AuthCallbackComponent, {code: params.code}), document.querySelector('#root'));
    } else {
        ReactDOM.render(React.createElement(LoginComponent), document.querySelector('#root'));
    }
</script>
</body>
</html>
